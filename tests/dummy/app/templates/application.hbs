{{page-title "Dummy"}}

<h2 id="title">Welcome to Ember</h2>

{{#if this.session.isAuthenticated}}
  Logged in
  <MockLogout />
{{else}}
  <MockLogin as |login|>
    {{#if login.isLoading}}
      loading...
    {{else}}
      {{#if login.errorMessage}}
        {{login.errorMessage}}
      {{/if}}

      <h2>Use the each-account component</h2>
      <login.each-account @accounts={{this.accounts}} as |account|>
        <strong>{{account.gebruiker.firstName}} {{account.gebruiker.lastName}}</strong> {{account.gebruiker.group.name}}
      </login.each-account>


      <h2>or bring your own html!</h2>
      <ul>
        {{#each this.accounts as |account|}}
          <li>
            <button type="button" {{on "click" (fn login.login account.id account.gebruiker.group.id)}}>
              <strong>{{account.gebruiker.firstName}} {{account.gebruiker.lastName}}</strong> {{account.gebruiker.group.name}}
            </button>
          </li>
        {{/each}}
      </ul>
    {{/if}}
  </MockLogin>
{{/if}}

{{outlet}}
